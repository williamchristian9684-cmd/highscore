function renderTable(){
  const tbody=document.getElementById('statsTableBody');
  const sortedPlayers = sortPlayers(PLAYERS, currentSort.skill, currentSort.order);
  let html='';

  for(const p of sortedPlayers){
    const s = playerStats[p.name];
    if(!s){
      html += `<tr><td colspan="10" class="loading">Loading ${p.name}â€¦</td></tr>`;
      continue;
    }
    if(s.error){
      html += `<tr><td class="player-name" style="color:${p.color}">${p.name}</td><td colspan="9" class="error">name not found</td></tr>`;
      continue;
    }

    const cells = [
      s.attack?.level, s.strength?.level, s.defence?.level,
      s.ranged?.level, s.magic?.level, s.prayer?.level,
      s.hitpoints?.level, s.combat, s.overall?.level
    ];

    // Build hover tooltip with all skills
    let tooltipHtml = '<strong>Full Stats:</strong><br>';
    for(const skill in s){
      if(skill !== 'combat'){
        tooltipHtml += `${skill.charAt(0).toUpperCase() + skill.slice(1)}: ${s[skill].level} <br>`;
      }
    }
    tooltipHtml += `Combat: ${s.combat}`;

    html += `<tr>
      <td class="player-name" style="color:${p.color}">
        ${p.name}
        <div class="tooltip">${tooltipHtml}</div>
      </td>
      ${cells.map(c=>`<td>${c!==undefined?c:'-'}</td>`).join('')}
    </tr>`;
  }

  tbody.innerHTML=html;
}
